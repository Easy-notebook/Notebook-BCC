<stages>
    <remaining>
        <stage id="data_existence_establishment" title="Data Existence Establishment">
            <goal>Establish data existence through systematic discovery and analysis to ensure it supports project objectives. Artifacts: Complete data inventory and quality assessment, Schema and relationships analysis, Semantic mapping and ranking, Testable PCS hypotheses; Acceptance: All required data obtained and mapped, confirmed by domain experts, specific testable hypotheses generated.</goal>
            <verified_artifacts>
                <variable name="data_existence_report">Complete data inventory and quality assessment</variable>
                <variable name="data_structure_document">Schema, relationships, type analysis</variable>
                <variable name="variable_analysis_report">Semantic mapping, importance ranking</variable>
                <variable name="pcs_hypothesis_framework">Testable hypotheses for validation</variable>
            </verified_artifacts>
            <required_variables>
                <variable name="housing_data">Housing data from the CSV file provided</variable>
            </required_variables>
        </stage>

        <stage id="data_integrity_assurance" title="Data Integrity Assurance" insert_after="data_existence_establishment">
            <goal>Ensure data integrity, accuracy, and consistency through validation and cleaning to prepare analysis-ready datasets. Artifacts: Cleaned DataFrame with no missing values, Quality metrics report, Reproducibility documentation, Integrity verification report; Acceptance: df_cleaned.isnull().sum().sum() == 0, all dtypes and indexes validated, processing pipeline documented.</goal>
            <verified_artifacts>
                <variable name="df_cleaned">DataFrame (no missing values, correct dtypes)</variable>
                <variable name="data_quality_report">Comprehensive quality metrics and processing log</variable>
                <variable name="processing_pipeline_doc">Reproducibility documentation (seeds, versions)</variable>
                <variable name="integrity_verification_report">Quality assurance certification</variable>
            </verified_artifacts>
            <required_variables>
                <variable name="housing_data">Housing data for integrity checks</variable>
            </required_variables>
        </stage>

        <stage id="exploratory_data_analysis" title="Exploratory Data Analysis" insert_after="data_integrity_assurance">
            <goal>Conduct in-depth exploratory data analysis to understand patterns, distributions, and relationships for modeling strategy. Artifacts: Comprehensive statistics, correlation analysis, distribution recommendations, modeling suggestions, visualization charts; Acceptance: All variables analyzed, relationships explored, business questions answered, modeling recommendations with evidence, charts saved at ./outputs/eda/.</goal>
            <verified_artifacts>
                <variable name="eda_summary">Comprehensive statistics per variable</variable>
                <variable name="correlation_matrix">Full variable correlation analysis</variable>
                <variable name="distribution_analysis">Target distribution, transform recommendations</variable>
                <variable name="modeling_recommendations">Feature engineering and method suggestions</variable>
                <variable name="visualizations">Saved charts under ./outputs/eda/</variable>
            </verified_artifacts>
            <required_variables>
                <variable name="df_cleaned">Cleaned dataset with necessary variables</variable>
            </required_variables>
        </stage>

        <stage id="methodology_strategy_formulation" title="Methodology Strategy Formulation" insert_after="exploratory_data_analysis">
            <goal>Develop comprehensive modeling strategy including feature engineering, model selection, and evaluation. Artifacts: Feature engineering strategy, Model candidates list, Evaluation framework, Methodology document; Acceptance: Strategy matches data characteristics, meets business needs, integrated PCS framework, feasible implementation plan.</goal>
            <verified_artifacts>
                <variable name="feature_engineering_strategy">Detailed feature engineering plan</variable>
                <variable name="model_method_candidates">List of candidate algorithms with rationale</variable>
                <variable name="evaluation_framework">Comprehensive evaluation metrics and validation strategy</variable>
                <variable name="methodology_document">Complete modeling methodology and implementation plan</variable>
            </verified_artifacts>
            <required_variables>
                <variable name="modeling_recommendations">Feature engineering and method suggestions based on EDA</variable>
            </required_variables>
        </stage>

        <stage id="model_implementation_execution" title="Model Implementation Execution" insert_after="methodology_strategy_formulation">
            <goal>Execute modeling strategy to train and optimize predictive models. Artifacts: Reusable feature engineering pipeline, Collection of trained models, Optimized production-ready model, Training process logs, Saved model file; Acceptance: Feature engineering steps implemented, modeling methods trained, optimization converged, model performance meets RMSE < 25000, R² > 0.85, ./models/model.pkl loads without errors.</goal>
            <verified_artifacts>
                <variable name="feature_pipeline">Reusable feature engineering pipeline</variable>
                <variable name="trained_models">Collection of trained models with different algorithms</variable>
                <variable name="final_model">Optimized production-ready model</variable>
                <variable name="training_history">Complete training process logs</variable>
                <variable name="model_file">Saved model file at ./models/model.pkl</variable>
            </verified_artifacts>
            <required_variables>
                <variable name="evaluation_framework">Validated metrics and strategy from methodology strategy</variable>
            </required_variables>
        </stage>

        <stage id="predictability_validation" title="Predictability Validation" insert_after="model_implementation_execution">
            <goal>Validate model predictive capability to ensure generalization performance. Artifacts: CV scores array, Test set metrics, Temporal validation report, Generalization report, Business impact report; Acceptance: CV and test set evaluations meet RMSE < 25000, R² > 0.85, test set independent, temporal and domain validations conducted.</goal>
            <verified_artifacts>
                <variable name="cv_scores">Cross-validation fold scores</variable>
                <variable name="test_performance">Test set metrics: RMSE, R², MAE</variable>
                <variable name="temporal_validation_report">Time-based generalization analysis</variable>
                <variable name="domain_generalization_report">Cross-domain performance</variable>
                <variable name="business_impact_report">ROI and business value quantification</variable>
            </verified_artifacts>
            <required_variables>
                <variable name="final_model">Optimized production-ready model</variable>
            </required_variables>
        </stage>

        <stage id="results_communication" title="Results Communication" optional>
            <goal>Communicate project results effectively to stakeholders for understanding and action. Artifacts: Methodology documentation, Executive summary, Visualization package, Deployment guide, Model card; Acceptance: All audiences' needs addressed, documentation detailed, executive summary actionable, visualizations clear, stakeholder feedback positive.</goal>
            <verified_artifacts>
                <variable name="technical_documentation">Complete methodology and implementation documentation</variable>
                <variable name="executive_summary">Concise high-level summary for decision-makers</variable>
                <variable name="visualization_package">Comprehensive charts and interactive dashboards</variable>
                <variable name="implementation_guide">Deployment instructions and user training materials</variable>
                <variable name="model_card">Model performance, usage instructions, limitations documentation</variable>
            </verified_artifacts>
            <required_variables>
                <variable name="business_impact_report">Validated business value quantification</variable>
            </required_variables>
        </stage>
    </remaining>
    <focus>
        - RMSE < 25000
        - R² > 0.85
        - PCS alignment and standards
        - Reproducibility in pipeline
        - Comprehensive validation strategy
        - Ensuring no data leakage
    </focus>
</stages>